# Baby Kagglers

Решение команды задачи по real-time поиску и обнаружению негабарита в рудном потоке, а также разработке аналитического сервиса оценки грансостава руды по видеопотоку. Оценка грансостава необходима для оптимизации работы мельниц. Попадание слишком большой частицы руды (совокупности таких частиц) на конвейер может вызвать блокировку всего потока.

## Инструкция для запуска сервиса
1. Склонировать репозиторий для локального использования <br>
```git clone https://github.com/lnfin/polus_hackathon.git```

2. В директории приложения сбилдить докер образ <br>
```docker build -t service .```

3. Запустить собранный образ <br>
```docker run -p 8501:8501 service``` 

Сайт будет доступен по http://localhost:8501

## Справка по работе сайта

* Первое, что попадется на глаза это возможность загрузить файл 

![drag2drop](https://github.com/lnfin/polus_hackathon/blob/main/utils/drag2drop.png)

Выберите видео файл и загрузите его

* Через некоторое время, когда файл загрузится, оператору будет предоставлена возможность выбрать порог классов для негабарита

![thresh](https://github.com/lnfin/polus_hackathon/blob/main/utils/thresh.png)

Необходимо выбрать порог по которому будет выбран негабарит из выпадающего списка

* После выбора порога будет запущена real-time аналитика оценки грансостава руды по видеопотоку.

![start_page](https://github.com/lnfin/polus_hackathon/blob/main/utils/start_page.png)

Модель обрабатывает видео и выводит полученные bbox'ы, где красные - негабариты. На правом же графике показано как изменяется тренд грансостава, рост графика означает повышение среднего значения крупности руды, падение - уменьшение среднего. С помощью этого графика можно отслеивать загруженность ленты, опираясь на размеры камней.

Все предупреждения о обнаружении негабаритов будут ярко мигать красным-желтым и уведомлять оператора об обнаружении негабаритов.
Справа от уведомления расположены метрики, и они тоже в реальном времени, с помощью количества камней можно понять насколько загружена лента по количеству, а по среднему значению крупности камней предположить насколько она загружена по массе. Ну и изменение максимального размера частиц.

* Ниже мы увидим еще пару интересных и полезных графика

![second_chart](https://github.com/lnfin/polus_hackathon/blob/main/utils/second_chart.png)

На это графике, как и на других, на протяжении всего видеопотока транслируется информация о максимальном и минимальном размере камня. С помощью этого графика можно определить когда на ленте +- похожие по размеру или совершенно разные камни.

![third_chart](https://github.com/lnfin/polus_hackathon/blob/main/utils/third_chart.png)

На последнем графике нашего сайта можно увидеть мониторинг распределения частиц руды в потоке по классам крупности.

## Техническая часть

Техническую часть нашего решения вы можете юзучить в презентации по ссылке


